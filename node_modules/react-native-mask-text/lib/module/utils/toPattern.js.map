{"version":3,"names":["DIGIT","ALPHA","ALPHANUM","MINUTES","SECONDS","HOURS","addPlaceholder","toPattern","value","optionPattern","pattern","patternChars","replace","output","split","values","toString","charsValues","placeholder","undefined","charCounter","index","outputLength","length","join","match","slice","substr"],"sources":["toPattern.ts"],"sourcesContent":["import { DIGIT, ALPHA, ALPHANUM, MINUTES, SECONDS, HOURS } from './constants'\nimport addPlaceholder from './addPlaceholder'\n\ntype OptionPattern = {\n  pattern: string\n  placeholder: string\n}\n\n/**\n * function toPattern\n * @param {number | string} value\n * @param {string | OptionPattern} optionPattern\n * @returns {string}\n */\nfunction toPattern(\n  value: number | string,\n  optionPattern: string | OptionPattern\n): string {\n  const pattern =\n    typeof optionPattern === 'object' ? optionPattern.pattern : optionPattern\n  const patternChars = pattern.replace(/\\W/g, '')\n  const output = pattern.split('')\n  const values = value.toString().replace(/\\W/g, '')\n  const charsValues = values.replace(/\\W/g, '')\n  const placeholder =\n    typeof optionPattern === 'object' ? optionPattern.placeholder : undefined\n  let charCounter = 0\n  let index\n\n  const outputLength = output.length\n  for (index = 0; index < outputLength; index++) {\n    // Reached the end of input\n    if (charCounter >= values.length) {\n      if (patternChars.length === charsValues.length) {\n        return output.join('')\n      }\n      if (\n        placeholder !== undefined &&\n        patternChars.length > charsValues.length\n      ) {\n        return addPlaceholder(output, index, placeholder).join('')\n      }\n      break\n    } else if (\n      (output[index] === DIGIT && values[charCounter].match(/[0-9]/)) ||\n      (output[index] === ALPHA && values[charCounter].match(/[a-zA-Z]/)) ||\n      (output[index] === ALPHANUM &&\n        values[charCounter].match(/[0-9a-zA-Z]/)) ||\n      (output[index] === HOURS && values[charCounter].match(/[0-23]/)) ||\n      (output[index] === MINUTES && values[charCounter].match(/[0-59]/)) ||\n      (output[index] === SECONDS && values[charCounter].match(/[0-59]/))\n    ) {\n      output[index] = values[charCounter++]\n    } else if (\n      output[index] === DIGIT ||\n      output[index] === ALPHA ||\n      output[index] === ALPHANUM ||\n      output[index] === HOURS ||\n      output[index] === MINUTES ||\n      output[index] === SECONDS\n    ) {\n      if (placeholder !== undefined) {\n        return addPlaceholder(output, index, placeholder).join('')\n      }\n      return output.slice(0, index).join('')\n\n      // exact match for a non-magic character\n    } else if (output[index] === values[charCounter]) {\n      charCounter++\n    }\n  }\n  return output.join('').substr(0, index)\n}\n\nexport default toPattern\n"],"mappings":"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"}